<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Open in Facebook</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <script>
        // ——— CONFIG ———
        const params      = new URLSearchParams(location.search);
        const pageId      = params.get('id') || 'YOUR_DEFAULT_PAGE_ID';
        // expose to global so the bottom script can see it
        window.webLink     = `https://www.facebook.com/profile.php?id=${pageId}`;
        window.iosLink     = `fb://profile/${pageId}`;
        window.androidLink = `intent://profile/${pageId}#Intent;scheme=fb;package=com.facebook.katana;end`;

        function openFacebook() {
            const ua = navigator.userAgent.toLowerCase();
            const now = Date.now();

            if (/iphone|ipad|ipod/.test(ua)) {
                // iOS: use an invisible iframe to trigger the fb:// scheme
                const ifr = document.createElement('iframe');
                ifr.style.display = 'none';
                ifr.src = window.iosLink;
                document.body.appendChild(ifr);

            } else if (/android/.test(ua)) {
                // Android Chrome: intent:// URI will launch FB app or fallback
                window.location = window.androidLink;

            } else {
                // all others: go straight to web
                window.location = window.webLink;
                return;
            }

            // fallback to web page after 1s if app didn’t open
            setTimeout(() => {
                if (Date.now() - now < 2000) {
                    window.location = window.webLink;
                }
            }, 1000);
        }

        window.addEventListener('load', openFacebook);
    </script>
</head>
<body>
<p>Opening Facebook…</p>
<p>
    If it doesn’t automatically open,
    <a id="manual" href="#">click here</a>.
</p>
<script>
    // point the manual link at the web fallback
    document.getElementById('manual').href = window.webLink;
</script>
</body>
</html>
